<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const ORG_NAME = 'ООО «Кошер-Гурмэ»';
        const ORG_ADRRESS = '127055 г. Москва ул. Новосущёвская д. 15';
        const MAIL_ADDRESS = '127055 г. Москва ул. Новосущёвская д. 15';
        const REG_ADDRESS = '127055 г. Москва ул. Новосущёвская д. 15 ';
        const INN = '7715441951';
        const KPP = '771501001';
        const OGRN = '1147746927965';
        const BANKNAME = 'ПАО КБ «Восточный» г. Москва';
        const ACCOUT_NUMBER = '40702810911110009956';
        const CORR_NUMBER = '30101810945250000682';
        const BIK = '044525682';
        const DIRECTOR = 'Остроброд  Илан';

        if (location.href.includes('terms-of-use')) {
            const root = document.querySelector('.requsitess');
            let requsitesData = document.createElement('div');
            requsitesData.classList.add('.requsites-data');
            requsitesData.id = 'requisites';
            if(root) {
                root.append(requsitesData);
                let Requisites = new Vue({
                    el: '#requisites',
                    data: {
                        requisites: [
                            ORG_NAME,
                            ORG_ADRRESS,
                            INN,
                            KPP,
                            OGRN,
                            BANKNAME,
                            ACCOUT_NUMBER,
                            CORR_NUMBER,
                            BIK,
                            DIRECTOR
                        ],
                    },
                    template: `
                <div class="requsites__data">
                    <h4 class="requsites__title">Реквизиты продавца</h4>
                    <p class="requsites__elem">Название: <span>${ORG_NAME}</span></p>
                    <p class="requsites__elem">Юр.адрес: <span>${ORG_ADRRESS}</span></p>
                    <p class="requsites__elem">Инн: <span>${INN}</span></p>
                    <p class="requsites__elem">КПП: <span>${KPP}</span></p>
                    <p class="requsites__elem">ОГРН: <span>${OGRN}</span></p>
                    <p class="requsites__elem">Банк: <span>${BANKNAME}</span></p>
                    <p class="requsites__elem">Р/С: <span>${ACCOUT_NUMBER}</span></p>
                    <p class="requsites__elem">К/С: <span>${CORR_NUMBER}</span></p>
                    <p class="requsites__elem">БИК: <span>${BIK}</span></p>
                    <p class="requsites__elem">Ген.дир: <span>${DIRECTOR}</span></p>
                </div>`
                })
            } else console.log('No element with id:list');
        }

        if (location.href.includes('contact')) {
            const root = document.querySelector('.contact-info');
            const list = document.createElement('div');
            list.id = 'requisites';
            if(root) {
                root.append(list);
                let Requisites = new Vue({
                    el: '#requisites',
                    data: {
                        requisites: [
                            ORG_NAME,
                            ORG_ADRRESS,
                            INN,
                            KPP,
                            OGRN,
                            BANKNAME,
                            ACCOUT_NUMBER,
                            CORR_NUMBER,
                            BIK,
                            DIRECTOR
                        ],
                    },
                    template: `
            <ul class="requisite">
                <li class="requisite__title">
                    Реквизиты
                </li>
                <li class="requsites__elem">Название: <span>${ORG_NAME}</span></li>
                    <li class="requsites__elem">Юр.адрес: <span>${ORG_ADRRESS}</span></li>
                    <li class="requsites__elem">Инн: <span>${INN}</span></li>
                    <li class="requsites__elem">КПП: <span>${KPP}</span></li>
                    <li class="requsites__elem">ОГРН: <span>${OGRN}</span></li>
                    <li class="requsites__elem">Банк: <span>${BANKNAME}</span></li>
                    <li class="requsites__elem">Р/С: <span>${ACCOUT_NUMBER}</span></li>
                    <li class="requsites__elem">К/С: <span>${CORR_NUMBER}</span></li>
                    <li class="requsites__elem">БИК: <span>${BIK}</span></li>
                    <li class="requsites__elem">Ген.дир: <span>${DIRECTOR}</span></li>
            </ul>
        `
                })
            } else console.log('No element with id:list');
        }
    });
</script>

<script>
    $(document).ready(function () {
        const widget = $('.footer-widgets>.container>.row>.col-md-3:first>.widget')
        const widTitle = widget.find('.widget-title');
        const widCat = widget.find('.widget-categories>ul>li:first-child>a');
        let textTrans = 'About us ';
        let textRus = 'О нас'

        if (widTitle.html() == textTrans || widCat.html() == textTrans) {
            widTitle.text(textRus);
            widCat.text(textRus);
        }
    });
</script>

<script>
    $(document).ready(function () {
        if (location.href === 'https://store101263.sellavi.com/' || location.href === 'https://store101263.sellavi.com/?from_admin') {
            const cuctomSection = document.querySelector('.custom_section');
            cuctomSection.innerHTML = `<div class="container">
            <section>
                <h2 class="kosher-title">Кошерное питание</h2>
                    <div class="kosher-description">Кашрут — система ритуальных правил, определяющих соответствие чего-либо требованиям Галахи, еврейского Закона. Одна из главных целей кашрута: продуманное, рациональное, здоровое питание.</div>
                    <h2 class="preim-title">Первая сеть кошерных супермаркетов в России</h2>
                    <div class="preim-block">
                        <div>
                            <img src="https://image.flaticon.com/icons/svg/2942/2942322.svg">
                            <p>Широкий ассортимент  кошерной продукции. Вы обеспечите себя кошерными продуктами от «А» до «Я», не ограничивая свои желания.</p>
                        </div>
                        <div>
                            <img src="https://image.flaticon.com/icons/svg/903/903149.svg">
                            <p>70% всех товаров поставляется напрямую из Израиля, в том числе супермаркет сотрудничает с европейскими поставщиками.</p>
                        </div>
                        <div>
                            <img src="https://image.flaticon.com/icons/svg/854/854929.svg">
                            <p>Супермаркеты находятся в шаговой доступности от синагоги. Это быстро и удобно. </p>
                        </div>
                </div>
            </section>
            <h2 class="kosher-title">Адреса наших магазинов</h2>
            <iframe src="https://yandex.ru/map-widget/v1/?um=constructor%3A3b39b0b5a6840c90283b63f7fc54d0df23a854a5b93c2a628f6b915711f5c144&source=constructor" width="100%" height="450" frameborder="0"></iframe>
            </div>
               `;
        }
    });
</script>

<script>
    $(document).ready(function () {
        if (location.href === 'https://store101263.sellavi.com/' || location.href === 'https://store101263.sellavi.com/?from_admin') {
            $.ajax({
                type: "GET",
                url: "https://rss.app/feeds/JVTosIH7CzZagiPT.xml",
                dataType: "xml",
                success: xmlParser
            });

            let template = `
                <div class="section">
                    <h2 class="title-block-news" style="text-align: center; color: #6bc137; margin-bottom: 20px;">Новости Кашрута</h2>
                    <div class="container">
                        <div class="catalog">
                            <div class="catalog__flex">

                            </div>
                        </div>
                    </div>
                </div>
            `;

            $("#home > div.wrapper.wrapper-closed > div.content-area > section.page-section.latest-section > div").prepend(template);

            let rssNews = [];

            function xmlParser(xml) {
                $(xml).find("item").each(function () {
                    let title = $(this).find("title").text();
                    let img = $(this).find("media\\:content").attr('url');
                    let link = $(this).find("link").text();
                    let rss = {
                        rssTitle: title,
                        rssImg: img,
                        rssLink: link
                    };
                    rssNews.push(rss);
                });

                let max = 2;
                for (let i = 0; i < max; i++) {
                    console.log(rssNews[i])
                    $(".catalog__flex").append("<div class=\"catalog__col\">\n" +
                        "                            <div class=\"catalog__card card\">\n" +
                        "                                <div class=\"card__title\">" + rssNews[i].rssTitle + "</div>\n" +
                        "                                <img class='card__text' src='" + rssNews[i].rssImg + "'/>\n" +
                        "                                <div class=\"card__button\"><a href='/news/'>Подробнее</a></div>\n" +
                        "                            </div>\n" +
                        "                        </div>");
                }
            }
        }
    });
</script>

<script>
    $(document).ready(function () {
        if (location.href === 'https://store101263.sellavi.com/news/' || location.href === 'https://store101263.sellavi.com/news/?from_admin') {
            $.ajax({
                type: "GET",
                url: "https://rss.app/feeds/JVTosIH7CzZagiPT.xml",
                dataType: "xml",
                success: xmlParser
            });

            let template = `
                <div class="section">
                    <h1 class="title-block-news" style="text-align: center; margin-bottom: 20px;  color: #6bc137; margin-top: -50px;">Все самые свежие новости Кашрута.</h1>
                    <ul class="flex-container">
                      <li class="flex-item"><a href="https://www.kosher.ru/" target="_blank">Новости Департамента Кашрута при главном Раввинате России</a></li>
                      <li class="flex-item"><a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%88%D1%80%D1%83%D1%82" target="_blank">Статья Википедии про Кашрут</a></li>
                      <li class="flex-item"><a href="https://www.kosher.ru/labels" target="_blank">Знаки кошерности</a></li>
                      <li class="flex-item"><a href="https://www.kosher.ru/recipe_categories" target="_blank">Рецепты</a></li>
                    </ul>
                        <div class="container">
                            <div class="catalog">
                                <div class="catalog__flex">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            $(".col-md-12").append(template);

            let rssNews = [];

            function xmlParser(xml) {
                $(xml).find("item").each(function () {
                    let title = $(this).find("title").text();
                    let img = $(this).find("media\\:content").attr('url');
                    let link = $(this).find("link").text();
                    let rss = {
                        rssTitle: title,
                        rssImg: img,
                        rssLink: link
                    }
                    rssNews.push(rss);
                });


                for (let i = 0; i < rssNews.length; i++) {
                    console.log(rssNews[i]);
                    $(".catalog__flex").append("<div class=\"catalog__col\">\n" +
                        "                            <div class=\"catalog__card card\">\n" +
                        "                                <div class=\"card__title\">" + rssNews[i].rssTitle + "</div>\n" +
                        "                                <img class='card__text' src='" + rssNews[i].rssImg + "'/>\n" +
                        "                                <div class=\"card__button\"><a href='" + rssNews[i].rssLink + "'>Подробнее</a></div>\n" +
                        "                            </div>\n" +
                        "                        </div>");
                }
            }
        }
    });
</script>